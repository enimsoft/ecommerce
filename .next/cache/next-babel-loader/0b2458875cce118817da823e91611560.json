{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport _ from 'lodash';\nimport { sourcebitDataClient } from 'sourcebit-target-next';\nimport { withRemoteDataUpdates } from 'sourcebit-target-next/with-remote-data-updates';\nimport pageLayouts from '../layouts';\n\nclass Page extends React.Component {\n  render() {\n    // every page can have different layout, pick the layout based\n    // on the model of the page (_type in Sanity CMS)\n    const componentName = _.get(this.props, 'page.__metadata.modelName');\n\n    const PageLayout = pageLayouts[componentName];\n    return __jsx(PageLayout, this.props);\n  }\n\n}\n\nexport async function getStaticPaths() {\n  console.log('Page [...slug].js getStaticPaths'); // filter out the root page as it has its own page file `src/pages/index.js`\n\n  const paths = await sourcebitDataClient.getStaticPaths();\n  return {\n    paths: _.reject(paths, path => path === '/'),\n    fallback: false\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  console.log('Page [...slug].js getStaticProps, params: ', params);\n  const pagePath = '/' + params.slug.join('/');\n  const props = await sourcebitDataClient.getStaticPropsForPageAtPath(pagePath);\n  return {\n    props\n  };\n}\nexport default withRemoteDataUpdates(Page);","map":null,"metadata":{},"sourceType":"module"}